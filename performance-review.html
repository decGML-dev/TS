<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0">
    <title>PerfReview ¬∑ Performance & Analytics</title>
    
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;500;600;700&family=Fraunces:opsz,wght@9..144,500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --font-body: 'DM Sans', sans-serif;
            --font-display: 'Fraunces', serif;
            --sidebar-bg: #0c1222;
            --sidebar-hover: #162036;
            --primary: #4f6df5;
            --primary-light: #6b85f7;
            --primary-dark: #3a56d4;
            --primary-glow: rgba(79,109,245,0.15);
            --accent-mint: #34d399;
            --accent-amber: #fbbf24;
            --accent-rose: #f43f5e;
            --accent-violet: #8b5cf6;
            --surface: #ffffff;
            --surface-raised: #f8f9fc;
            --surface-sunken: #f1f3f8;
            --border: #e4e7ee;
            --border-light: #eff1f5;
            --text-primary: #111827;
            --text-secondary: #6b7280;
            --text-muted: #9ca3af;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.06);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.06), 0 1px 3px rgba(0,0,0,0.08);
            --shadow-lg: 0 12px 40px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body { 
            font-family: var(--font-body); 
            background: var(--surface-sunken); 
            color: var(--text-primary); 
            height: 100vh; 
            overflow: hidden;
            font-size: 14px;
            -webkit-font-smoothing: antialiased;
        }

        /* ‚îÄ‚îÄ LAYOUT ‚îÄ‚îÄ */
        .app { display: flex; height: 100%; }

        /* ‚îÄ‚îÄ SIDEBAR ‚îÄ‚îÄ */
        .sidebar { 
            width: 260px; 
            background: var(--sidebar-bg); 
            color: white; 
            display: flex; 
            flex-direction: column; 
            flex-shrink: 0;
            border-right: 1px solid rgba(255,255,255,0.04);
        }
        .sidebar-header { 
            padding: 24px; 
            display: flex; 
            align-items: center; 
            gap: 12px; 
            border-bottom: 1px solid rgba(255,255,255,0.06); 
        }
        .sidebar-header .logo-icon {
            width: 36px; height: 36px;
            background: linear-gradient(135deg, var(--primary), var(--accent-violet));
            border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            font-size: 16px;
        }
        .sidebar-header span { font-family: var(--font-display); font-size: 19px; font-weight: 600; letter-spacing: -0.3px; }
        
        .nav { flex: 1; padding: 20px 12px; display: flex; flex-direction: column; gap: 2px; }
        .nav-item { 
            display: flex; align-items: center; gap: 12px; 
            padding: 10px 16px; border-radius: var(--radius-md); 
            color: rgba(255,255,255,0.5); 
            transition: var(--transition); 
            font-size: 13.5px; font-weight: 500; cursor: pointer;
        }
        .nav-item i { width: 20px; text-align: center; font-size: 14px; }
        .nav-item.active { background: var(--primary); color: white; box-shadow: 0 2px 8px rgba(79,109,245,0.3); }
        .nav-item:not(.active):hover { background: var(--sidebar-hover); color: rgba(255,255,255,0.85); }

        .user-profile { padding: 20px; border-top: 1px solid rgba(255,255,255,0.06); display: flex; align-items: center; gap: 12px; }
        .user-avatar { 
            background: linear-gradient(135deg, var(--primary), var(--accent-violet)); 
            width: 40px; height: 40px; border-radius: 10px; 
            display: flex; align-items: center; justify-content: center; 
            font-weight: 600; color: white; font-size: 13px; 
        }
        .user-info h4 { font-size: 13px; font-weight: 600; }
        .user-info p { font-size: 11.5px; color: rgba(255,255,255,0.4); }

        /* ‚îÄ‚îÄ MAIN CONTENT ‚îÄ‚îÄ */
        .main-content { flex: 1; overflow-y: auto; position: relative; }
        .main-inner { padding: 32px; max-width: 1400px; }

        /* Scrollbar */
        .main-content::-webkit-scrollbar { width: 6px; }
        .main-content::-webkit-scrollbar-track { background: transparent; }
        .main-content::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

        /* ‚îÄ‚îÄ TOP BAR ‚îÄ‚îÄ */
        .top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 28px; }
        .page-title h1 { font-family: var(--font-display); font-size: 26px; font-weight: 700; letter-spacing: -0.5px; }
        .page-title p { color: var(--text-muted); font-size: 13px; margin-top: 4px; display: flex; align-items: center; gap: 6px; }
        
        .action-btn { 
            background: var(--surface); border: 1px solid var(--border); 
            padding: 9px 18px; border-radius: 40px; 
            font-weight: 600; font-size: 13px; 
            display: inline-flex; align-items: center; gap: 7px; 
            color: var(--text-primary); transition: var(--transition); cursor: pointer; 
            font-family: var(--font-body);
            box-shadow: var(--shadow-sm);
        }
        .action-btn:hover { border-color: var(--primary); color: var(--primary); }
        .action-btn.primary { 
            background: var(--primary); color: white; border: none; 
            box-shadow: 0 2px 8px rgba(79,109,245,0.3);
        }
        .action-btn.primary:hover { background: var(--primary-dark); }

        /* ‚îÄ‚îÄ STAT CARDS ‚îÄ‚îÄ */
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px; }
        .stat-card { 
            background: var(--surface); padding: 20px; 
            border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); 
            display: flex; justify-content: space-between; align-items: center; 
            border: 1px solid var(--border-light);
            transition: var(--transition);
        }
        .stat-card:hover { box-shadow: var(--shadow-md); transform: translateY(-1px); }
        .stat-left h4 { font-size: 12px; color: var(--text-muted); font-weight: 500; margin-bottom: 6px; text-transform: uppercase; letter-spacing: 0.5px; }
        .stat-left .number { font-family: var(--font-display); font-size: 30px; font-weight: 700; color: var(--text-primary); letter-spacing: -1px; }
        .stat-icon { 
            width: 46px; height: 46px; 
            display: flex; align-items: center; justify-content: center; 
            border-radius: 12px; font-size: 18px; 
        }
        .stat-icon.blue { background: rgba(79,109,245,0.1); color: var(--primary); }
        .stat-icon.amber { background: rgba(251,191,36,0.12); color: #d97706; }
        .stat-icon.mint { background: rgba(52,211,153,0.12); color: #059669; }
        .stat-icon.rose { background: rgba(244,63,94,0.1); color: var(--accent-rose); }

        /* ‚îÄ‚îÄ ROW SPLIT ‚îÄ‚îÄ */
        .row-split { display: grid; grid-template-columns: 1fr 1.5fr; gap: 20px; margin-bottom: 20px; }
        
        /* ‚îÄ‚îÄ CARDS ‚îÄ‚îÄ */
        .card { 
            background: var(--surface); border-radius: var(--radius-lg); 
            padding: 24px; box-shadow: var(--shadow-sm); 
            border: 1px solid var(--border-light); 
            display: flex; flex-direction: column; 
        }
        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
        .card-header h3 { font-size: 15px; font-weight: 600; display: flex; align-items: center; gap: 8px; }
        .card-header h3 i { font-size: 14px; }
        .view-link { color: var(--primary); font-size: 12px; font-weight: 600; text-decoration: none; }
        .view-link:hover { text-decoration: underline; }

        /* ‚îÄ‚îÄ REVIEW LIST ‚îÄ‚îÄ */
        .review-item { display: flex; align-items: center; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--border-light); }
        .review-item:last-child { border-bottom: none; }
        .review-info { display: flex; align-items: center; gap: 12px; }
        .employee-avatar { 
            width: 38px; height: 38px; 
            background: linear-gradient(135deg, #eef2ff, #e0e7ff); 
            border-radius: 10px; display: flex; align-items: center; justify-content: center; 
            font-weight: 700; color: var(--primary); font-size: 12px; 
        }
        .review-meta h4 { font-size: 13.5px; font-weight: 600; }
        .review-meta span { font-size: 12px; color: var(--text-muted); }
        .due-badge { 
            background: #fff7ed; color: #c2410c; 
            padding: 4px 10px; border-radius: 20px; 
            font-size: 11px; font-weight: 600; 
        }
        .due-badge.overdue { background: #fef2f2; color: var(--accent-rose); }

        /* ‚îÄ‚îÄ CHART ‚îÄ‚îÄ */
        .chart-container { width: 100%; height: 200px; position: relative; }

        /* ‚îÄ‚îÄ SKILL TABLE ‚îÄ‚îÄ */
        .skill-table { width: 100%; border-collapse: collapse; font-size: 13px; }
        .skill-table th { text-align: left; color: var(--text-muted); font-weight: 600; font-size: 11px; padding-bottom: 12px; border-bottom: 1px solid var(--border); text-transform: uppercase; letter-spacing: 0.5px; }
        .skill-table td { padding: 12px 0; border-bottom: 1px solid var(--border-light); }
        .gap-badge { padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: 700; }
        .gap-neg { background: #fee2e2; color: var(--accent-rose); }
        .gap-pos { background: #ecfdf5; color: #059669; }
        .progress-bar-sm { width: 80px; height: 5px; background: var(--border-light); border-radius: 6px; display: inline-block; margin-right: 8px; vertical-align: middle; }
        .progress-fill { height: 100%; border-radius: 6px; }

        /* ‚îÄ‚îÄ EMPLOYEE TABLE ‚îÄ‚îÄ */
        .employee-table { width: 100%; border-collapse: collapse; }
        .employee-table th { text-align: left; padding: 10px 12px; color: var(--text-muted); font-weight: 600; font-size: 11px; border-bottom: 1px solid var(--border); text-transform: uppercase; letter-spacing: 0.5px; }
        .employee-table td { padding: 14px 12px; border-bottom: 1px solid var(--border-light); font-size: 13.5px; vertical-align: middle; }
        .btn-sm { 
            padding: 6px 12px; border: 1px solid var(--border); 
            border-radius: 20px; background: white; font-size: 12px; 
            font-weight: 500; cursor: pointer; transition: var(--transition); 
            font-family: var(--font-body);
        }
        .btn-sm:hover { border-color: var(--primary); color: var(--primary); }
        
        .badge-gold { background: #fef3c7; color: #92400e; padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: 600; display: inline-flex; align-items: center; gap: 4px; }
        .badge-success { background: #dcfce7; color: #166534; padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: 600; }

        /* ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
           ‚ïë     FULL-SCREEN REVIEW WIZARD             ‚ïë
           ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù */

        .review-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--surface-sunken);
            z-index: 900;
            display: none;
            flex-direction: column;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .review-overlay.active { display: flex; opacity: 1; }

        /* Wizard Header */
        .wizard-header {
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            padding: 16px 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
        }
        .wizard-header-left { display: flex; align-items: center; gap: 16px; }
        .wizard-header-left .back-btn {
            width: 36px; height: 36px; border-radius: 10px;
            border: 1px solid var(--border); background: var(--surface);
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; color: var(--text-secondary); transition: var(--transition);
        }
        .wizard-header-left .back-btn:hover { border-color: var(--primary); color: var(--primary); }
        .wizard-title h2 { font-family: var(--font-display); font-size: 18px; font-weight: 700; letter-spacing: -0.3px; }
        .wizard-title p { font-size: 12px; color: var(--text-muted); margin-top: 1px; }
        .wizard-header-right { display: flex; align-items: center; gap: 10px; }

        /* Step Indicator */
        .step-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 12px 32px;
            background: var(--surface);
            border-bottom: 1px solid var(--border-light);
            flex-shrink: 0;
            overflow-x: auto;
        }
        .step-pill {
            padding: 7px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-muted);
            background: transparent;
            white-space: nowrap;
            cursor: pointer;
            transition: var(--transition);
            display: flex; align-items: center; gap: 6px;
        }
        .step-pill:hover { color: var(--text-secondary); background: var(--surface-sunken); }
        .step-pill.active { background: var(--primary); color: white; box-shadow: 0 2px 6px rgba(79,109,245,0.25); }
        .step-pill.completed { background: #ecfdf5; color: #059669; }
        .step-pill.completed::before { content: '‚úì'; font-size: 11px; }
        .step-divider { width: 20px; height: 1px; background: var(--border); flex-shrink: 0; }

        /* Wizard Body */
        .wizard-body {
            flex: 1;
            overflow-y: auto;
            padding: 32px;
        }
        .wizard-body::-webkit-scrollbar { width: 6px; }
        .wizard-body::-webkit-scrollbar-track { background: transparent; }
        .wizard-body::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

        .wizard-section {
            display: none;
            max-width: 860px;
            margin: 0 auto;
            animation: fadeSlideIn 0.35s ease;
        }
        .wizard-section.active { display: block; }

        @keyframes fadeSlideIn {
            from { opacity: 0; transform: translateY(12px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-intro {
            margin-bottom: 28px;
            padding: 20px 24px;
            background: linear-gradient(135deg, rgba(79,109,245,0.06), rgba(139,92,246,0.04));
            border-radius: var(--radius-lg);
            border-left: 4px solid var(--primary);
        }
        .section-intro h3 { font-family: var(--font-display); font-size: 20px; font-weight: 700; margin-bottom: 4px; letter-spacing: -0.3px; }
        .section-intro p { color: var(--text-secondary); font-size: 13.5px; line-height: 1.6; }

        /* Form Elements */
        .form-group { margin-bottom: 20px; }
        .form-group > label, .form-label {
            display: block;
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 7px;
        }
        .form-hint {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 8px;
            font-style: italic;
        }
        .form-input, .form-textarea, .form-select {
            width: 100%;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: 10px 14px;
            font-size: 13.5px;
            font-family: var(--font-body);
            color: var(--text-primary);
            background: var(--surface);
            transition: var(--transition);
        }
        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px var(--primary-glow);
        }
        .form-textarea { resize: vertical; min-height: 80px; line-height: 1.6; }
        .form-select { cursor: pointer; }

        /* Sub-sections */
        .sub-section {
            background: var(--surface);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
        }
        .sub-section-title {
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .sub-section-title i { color: var(--primary); font-size: 13px; }
        .sub-section-desc { font-size: 12.5px; color: var(--text-muted); margin-bottom: 16px; }

        /* Outcome Row */
        .outcome-row {
            display: grid;
            grid-template-columns: 1fr 140px 100px;
            gap: 12px;
            align-items: end;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-light);
        }
        .outcome-row:last-of-type { border-bottom: none; }

        /* Rating Slider */
        .rating-row {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-light);
        }
        .rating-row:last-child { border-bottom: none; }
        .rating-label { width: 180px; font-size: 13px; font-weight: 500; flex-shrink: 0; }
        .rating-bar-track {
            flex: 1;
            height: 8px;
            background: var(--surface-sunken);
            border-radius: 4px;
            position: relative;
            cursor: pointer;
        }
        .rating-bar-fill {
            height: 100%;
            border-radius: 4px;
            background: var(--primary);
            transition: width 0.2s ease;
        }
        .rating-dots {
            display: flex;
            justify-content: space-between;
            position: absolute;
            top: 50%;
            left: 0; right: 0;
            transform: translateY(-50%);
            pointer-events: none;
        }
        .rating-dot {
            width: 14px; height: 14px;
            border-radius: 50%;
            background: var(--surface);
            border: 2px solid var(--border);
            transition: var(--transition);
        }
        .rating-dot.filled { border-color: var(--primary); background: var(--primary); }
        .rating-value {
            width: 36px;
            text-align: center;
            font-weight: 700;
            font-size: 14px;
            color: var(--primary);
            font-family: var(--font-display);
        }
        .trend-select { 
            padding: 4px 8px; border-radius: 6px; 
            border: 1px solid var(--border); font-size: 12px; 
            font-family: var(--font-body); cursor: pointer; background: var(--surface);
        }

        /* Reflection Cards */
        .reflection-card {
            background: var(--surface-sunken);
            border-radius: var(--radius-md);
            padding: 16px 20px;
            margin-bottom: 12px;
        }
        .reflection-card .q {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .reflection-card .q i { color: var(--accent-violet); font-size: 12px; }

        /* Feedback Source Tabs */
        .feedback-tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 20px;
            background: var(--surface-sunken);
            padding: 4px;
            border-radius: var(--radius-md);
        }
        .feedback-tab {
            padding: 8px 16px;
            border-radius: var(--radius-sm);
            font-size: 12.5px;
            font-weight: 600;
            color: var(--text-muted);
            cursor: pointer;
            transition: var(--transition);
            flex: 1;
            text-align: center;
        }
        .feedback-tab.active { background: var(--surface); color: var(--text-primary); box-shadow: var(--shadow-sm); }
        .feedback-tab:hover:not(.active) { color: var(--text-secondary); }

        /* Goal Card */
        .goal-card {
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            padding: 16px 20px;
            margin-bottom: 12px;
            background: var(--surface);
            transition: var(--transition);
        }
        .goal-card:hover { border-color: var(--primary); box-shadow: 0 0 0 3px var(--primary-glow); }
        .goal-card-header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 10px; }
        .goal-number {
            width: 24px; height: 24px;
            background: var(--primary);
            color: white;
            border-radius: 6px;
            display: flex; align-items: center; justify-content: center;
            font-size: 11px; font-weight: 700;
            flex-shrink: 0;
        }
        .goal-remove {
            width: 24px; height: 24px;
            border: none; background: none;
            color: var(--text-muted);
            cursor: pointer;
            border-radius: 4px;
            display: flex; align-items: center; justify-content: center;
        }
        .goal-remove:hover { color: var(--accent-rose); background: #fef2f2; }

        /* Commitment Row */
        .commitment-row {
            display: grid;
            grid-template-columns: 1fr 1fr 140px;
            gap: 12px;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border-light);
        }

        /* Check-in schedule */
        .checkin-schedule {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        .checkin-card {
            background: var(--surface-sunken);
            border-radius: var(--radius-md);
            padding: 14px;
            text-align: center;
            border: 2px solid transparent;
            cursor: pointer;
            transition: var(--transition);
        }
        .checkin-card.selected { border-color: var(--primary); background: rgba(79,109,245,0.04); }
        .checkin-card:hover { border-color: var(--border); }
        .checkin-card .month { font-size: 12px; font-weight: 600; color: var(--text-secondary); }
        .checkin-card .label { font-size: 10.5px; color: var(--text-muted); margin-top: 2px; }

        /* Add Button */
        .add-row-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            border-radius: 20px;
            border: 1px dashed var(--border);
            background: none;
            color: var(--text-muted);
            font-size: 12.5px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-family: var(--font-body);
            margin-top: 8px;
        }
        .add-row-btn:hover { border-color: var(--primary); color: var(--primary); background: var(--primary-glow); }

        /* Wizard Footer */
        .wizard-footer {
            background: var(--surface);
            border-top: 1px solid var(--border);
            padding: 16px 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
        }
        .wizard-footer-left { font-size: 12px; color: var(--text-muted); }
        .wizard-footer-right { display: flex; gap: 10px; }

        /* ‚îÄ‚îÄ EMPLOYEE DETAIL MODAL ‚îÄ‚îÄ */
        .modal { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.45); z-index: 1000; align-items: center; justify-content: center; 
            opacity: 0; transition: opacity 0.25s; pointer-events: none;
            backdrop-filter: blur(4px);
        }
        .modal.active { display: flex; opacity: 1; pointer-events: all; }
        .modal-content { 
            background: var(--surface); width: 750px; max-width: 92%; 
            border-radius: var(--radius-xl); padding: 32px; position: relative; 
            box-shadow: var(--shadow-lg); 
            transform: scale(0.96); transition: transform 0.25s;
        }
        .modal.active .modal-content { transform: scale(1); }
        .close-modal { 
            position: absolute; top: 18px; right: 22px; 
            font-size: 22px; color: var(--text-muted); cursor: pointer; 
            width: 32px; height: 32px; border-radius: 8px;
            display: flex; align-items: center; justify-content: center;
        }
        .close-modal:hover { background: var(--surface-sunken); color: var(--text-primary); }

        /* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
        .toast { 
            position: fixed; bottom: 28px; right: 28px; 
            background: var(--sidebar-bg); color: white; 
            padding: 14px 22px; border-radius: var(--radius-md); 
            display: flex; align-items: center; gap: 10px; 
            box-shadow: var(--shadow-lg); 
            transform: translateY(100px); 
            transition: transform 0.35s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            z-index: 2000; font-size: 13px; font-weight: 500;
        }
        .toast.show { transform: translateY(0); }
        .toast i { color: var(--accent-mint); }

        /* ‚îÄ‚îÄ COMPLETION SCREEN ‚îÄ‚îÄ */
        .completion-screen {
            text-align: center;
            padding: 48px 24px;
        }
        .completion-icon {
            width: 80px; height: 80px;
            background: linear-gradient(135deg, #ecfdf5, #d1fae5);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            margin: 0 auto 24px;
            font-size: 36px;
            color: #059669;
        }
        .completion-screen h2 { font-family: var(--font-display); font-size: 24px; margin-bottom: 8px; }
        .completion-screen p { color: var(--text-secondary); max-width: 480px; margin: 0 auto; line-height: 1.6; }
        .completion-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-top: 32px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        .completion-stat {
            background: var(--surface-sunken);
            border-radius: var(--radius-md);
            padding: 16px;
        }
        .completion-stat .val { font-family: var(--font-display); font-size: 24px; font-weight: 700; color: var(--primary); }
        .completion-stat .lbl { font-size: 11.5px; color: var(--text-muted); margin-top: 2px; }

    </style>
</head>
<body>

<div class="app">
    <!-- ‚ïê‚ïê‚ïê SIDEBAR ‚ïê‚ïê‚ïê -->
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="logo-icon"><i class="fas fa-chart-line"></i></div>
            <span>PerfReview</span>
        </div>
        <div class="nav">
            <div class="nav-item active" data-view="dashboard"><i class="fas fa-home"></i> Dashboard</div>
            <div class="nav-item" data-view="reviews"><i class="fas fa-clipboard-list"></i> Reviews</div>
            <div class="nav-item" data-view="analytics"><i class="fas fa-chart-pie"></i> Analytics</div>
            <div class="nav-item" data-view="employees"><i class="fas fa-users"></i> Employees</div>
            <div class="nav-item" data-view="settings"><i class="fas fa-cog"></i> Settings</div>
        </div>
        <div class="user-profile">
            <div class="user-avatar">JD</div>
            <div class="user-info">
                <h4>Jordan Diaz</h4>
                <p>Engineering Mgr</p>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê MAIN CONTENT ‚ïê‚ïê‚ïê -->
    <div class="main-content">
        <div class="main-inner">
            <!-- TOP BAR -->
            <div class="top-bar">
                <div class="page-title">
                    <h1>Team Performance</h1>
                    <p><i class="far fa-calendar-alt"></i> Feb 12, 2026 ¬∑ Cycle: Annual 2025</p>
                </div>
                <button class="action-btn primary" id="globalReviewBtn">
                    <i class="fas fa-plus"></i> Conduct Review
                </button>
            </div>

            <!-- STATS -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-left"><h4>Total Team</h4><div class="number">24</div></div>
                    <div class="stat-icon blue"><i class="fas fa-users"></i></div>
                </div>
                <div class="stat-card">
                    <div class="stat-left"><h4>Pending Reviews</h4><div class="number">5</div></div>
                    <div class="stat-icon amber"><i class="fas fa-clock"></i></div>
                </div>
                <div class="stat-card">
                    <div class="stat-left"><h4>Avg Rating</h4><div class="number">4.1</div></div>
                    <div class="stat-icon mint"><i class="fas fa-star"></i></div>
                </div>
                <div class="stat-card">
                    <div class="stat-left"><h4>Goals Met</h4><div class="number">82%</div></div>
                    <div class="stat-icon rose"><i class="fas fa-trophy"></i></div>
                </div>
            </div>

            <!-- CHARTS ROW -->
            <div class="row-split">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="far fa-calendar-check" style="color:var(--primary)"></i> Upcoming</h3>
                        <a href="#" class="view-link">View all</a>
                    </div>
                    <div class="review-item">
                        <div class="review-info">
                            <div class="employee-avatar">AW</div>
                            <div class="review-meta"><h4>Alice Wong</h4><span>Product Design</span></div>
                        </div>
                        <span class="due-badge">Nov 30</span>
                    </div>
                    <div class="review-item">
                        <div class="review-info">
                            <div class="employee-avatar">BK</div>
                            <div class="review-meta"><h4>Bob Kim</h4><span>Frontend Dev</span></div>
                        </div>
                        <span class="due-badge overdue">Overdue</span>
                    </div>
                    <div class="review-item">
                        <div class="review-info">
                            <div class="employee-avatar">CM</div>
                            <div class="review-meta"><h4>Clara Mendez</h4><span>Data Science</span></div>
                        </div>
                        <span class="due-badge">Dec 10</span>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-chart-bar" style="color:var(--primary)"></i> Rating Distribution</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="teamRatingChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- TEAM TABLE -->
            <div class="card" style="margin-bottom:20px;">
                <div class="card-header">
                    <h3><i class="fas fa-users" style="color:var(--primary)"></i> Team Overview</h3>
                    <div style="display:flex; gap:8px;">
                        <span class="badge-gold"><i class="fas fa-trophy"></i> Top: Alice W.</span>
                        <span class="badge-gold" style="background:#fee2e2; color:#991b1b;"><i class="fas fa-arrow-down"></i> At Risk: Bob K.</span>
                    </div>
                </div>
                <table class="employee-table">
                    <thead><tr><th>Name</th><th>Role</th><th>Last Review</th><th>Rating</th><th>Status</th><th>Actions</th></tr></thead>
                    <tbody id="employeeTableBody"></tbody>
                </table>
            </div>
            
            <!-- SKILLS GAPS -->
            <div class="card">
                <div class="card-header">
                    <h3><i class="fas fa-layer-group" style="color:var(--primary)"></i> Skill Gaps (Aggregated)</h3>
                </div>
                <table class="skill-table">
                    <thead><tr><th>Competency</th><th>Avg Score</th><th>Target</th><th>Gap</th><th>Action Plan</th></tr></thead>
                    <tbody>
                        <tr>
                            <td>Technical Execution</td><td>4.2</td><td>4.0</td>
                            <td><span class="gap-badge gap-pos">+0.2</span></td>
                            <td><div class="progress-bar-sm"><div class="progress-fill" style="width:100%;background:var(--accent-mint);"></div></div> Maintain</td>
                        </tr>
                        <tr>
                            <td>Communication</td><td>3.5</td><td>4.0</td>
                            <td><span class="gap-badge gap-neg">-0.5</span></td>
                            <td><div class="progress-bar-sm"><div class="progress-fill" style="width:70%;background:var(--accent-amber);"></div></div> Workshop required</td>
                        </tr>
                        <tr>
                            <td>Leadership</td><td>3.2</td><td>4.0</td>
                            <td><span class="gap-badge gap-neg">-0.8</span></td>
                            <td><div class="progress-bar-sm"><div class="progress-fill" style="width:50%;background:var(--accent-rose);"></div></div> Mentoring program</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
     ‚ïë        FULL-SCREEN REVIEW WIZARD (7 SECTIONS)           ‚ïë
     ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
<div class="review-overlay" id="reviewOverlay">
    <!-- WIZARD HEADER -->
    <div class="wizard-header">
        <div class="wizard-header-left">
            <button class="back-btn" id="closeWizard"><i class="fas fa-arrow-left"></i></button>
            <div class="wizard-title">
                <h2 id="wizardEmployeeName">Annual Review: Alice Wong</h2>
                <p>Cycle: Annual 2025 ¬∑ Engineering</p>
            </div>
        </div>
        <div class="wizard-header-right">
            <button class="action-btn" id="saveDraftBtn"><i class="fas fa-save"></i> Save Draft</button>
            <button class="action-btn primary" id="submitFullReview"><i class="fas fa-check"></i> Submit Review</button>
        </div>
    </div>

    <!-- STEP INDICATOR -->
    <div class="step-indicator" id="stepIndicator">
        <div class="step-pill active" data-step="0">1. Look-Back</div>
        <div class="step-divider"></div>
        <div class="step-pill" data-step="1">2. Skills</div>
        <div class="step-divider"></div>
        <div class="step-pill" data-step="2">3. Feedback</div>
        <div class="step-divider"></div>
        <div class="step-pill" data-step="3">4. Targets</div>
        <div class="step-divider"></div>
        <div class="step-pill" data-step="4">5. Growth</div>
        <div class="step-divider"></div>
        <div class="step-pill" data-step="5">6. Support</div>
        <div class="step-divider"></div>
        <div class="step-pill" data-step="6">7. Commitments</div>
    </div>

    <!-- WIZARD BODY -->
    <div class="wizard-body" id="wizardBody">

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SECTION 1: STRUCTURED LOOK-BACK ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="wizard-section active" data-step="0">
            <div class="section-intro">
                <h3>1. Structured Look-Back</h3>
                <p>Build insight, not defensiveness. Review what actually happened ‚Äî outcomes, behaviours, and honest reflection with evidence.</p>
            </div>

            <!-- A. Outcomes & Impact -->
            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-bullseye"></i> A. Outcomes & Impact</div>
                <div class="sub-section-desc">Key results vs expectations ‚Äî what moved the needle?</div>
                <div id="outcomesContainer">
                    <div class="outcome-row">
                        <div class="form-group" style="margin-bottom:0">
                            <label class="form-label">Key Result / Deliverable</label>
                            <input class="form-input" placeholder="e.g. Shipped v2.0 redesign ahead of schedule">
                        </div>
                        <div class="form-group" style="margin-bottom:0">
                            <label class="form-label">Status</label>
                            <select class="form-select">
                                <option>Exceeded</option>
                                <option selected>Met</option>
                                <option>Partially Met</option>
                                <option>Missed</option>
                            </select>
                        </div>
                        <div class="form-group" style="margin-bottom:0">
                            <label class="form-label">Impact</label>
                            <select class="form-select">
                                <option>High</option>
                                <option selected>Medium</option>
                                <option>Low</option>
                            </select>
                        </div>
                    </div>
                </div>
                <button class="add-row-btn" data-target="outcomesContainer" data-type="outcome"><i class="fas fa-plus"></i> Add outcome</button>

                <div class="form-group" style="margin-top:16px;">
                    <label class="form-label">Evidence & Metrics</label>
                    <div class="form-hint">Cite specific metrics, deliverables, or stakeholder feedback</div>
                    <textarea class="form-textarea" placeholder="e.g. NPS increased from 42 to 58; reduced page load time by 35%; received commendation from VP Product"></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Missed Goals & Partial Wins</label>
                    <div class="form-hint">Equally important ‚Äî what didn't land and why?</div>
                    <textarea class="form-textarea" placeholder="e.g. API migration delayed by 3 weeks due to dependency on Platform team; delivered 80% of scope"></textarea>
                </div>
            </div>

            <!-- B. Behaviour & Ways of Working -->
            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-handshake"></i> B. Behaviour & Ways of Working</div>
                <div class="sub-section-desc">What behaviours helped or hindered outcomes?</div>
                
                <div class="form-group">
                    <label class="form-label">Positive Behaviours Observed</label>
                    <textarea class="form-textarea" placeholder="e.g. Proactively identified scope risks early; ran effective cross-team syncs"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Behaviours That Hindered</label>
                    <textarea class="form-textarea" placeholder="e.g. Tended to delay difficult conversations; over-committed without raising capacity concerns"></textarea>
                </div>
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
                    <div class="form-group">
                        <label class="form-label">Decision-Making Quality</label>
                        <select class="form-select">
                            <option>Excellent ‚Äî consistently sound</option>
                            <option selected>Good ‚Äî mostly strong decisions</option>
                            <option>Mixed ‚Äî some questionable calls</option>
                            <option>Needs improvement</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Collaboration & Ownership</label>
                        <select class="form-select">
                            <option>Role model</option>
                            <option selected>Consistently strong</option>
                            <option>Developing</option>
                            <option>Needs attention</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- C. Reflection Prompts -->
            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-lightbulb"></i> C. Reflection Prompts</div>
                <div class="sub-section-desc">Force learning ‚Äî require examples, not opinions.</div>

                <div class="reflection-card">
                    <div class="q"><i class="fas fa-award"></i> What am I most proud of ‚Äî and why?</div>
                    <textarea class="form-textarea" placeholder="Be specific. Cite the outcome and what made your contribution unique."></textarea>
                </div>
                <div class="reflection-card">
                    <div class="q"><i class="fas fa-redo"></i> What would I do differently with the same information?</div>
                    <textarea class="form-textarea" placeholder="Not hindsight ‚Äî with only what you knew at the time, what would change?"></textarea>
                </div>
                <div class="reflection-card">
                    <div class="q"><i class="fas fa-balance-scale"></i> Where did effort ‚â† impact?</div>
                    <textarea class="form-textarea" placeholder="Where did you spend disproportionate effort for limited return?"></textarea>
                </div>
                <div class="reflection-card">
                    <div class="q"><i class="fas fa-exclamation-triangle"></i> What assumptions turned out to be wrong?</div>
                    <textarea class="form-textarea" placeholder="What did you believe to be true that wasn't? How did it affect your work?"></textarea>
                </div>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SECTION 2: SKILLS & CAPABILITY REVIEW ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="wizard-section" data-step="1">
            <div class="section-intro">
                <h3>2. Skills & Capability Review</h3>
                <p>Connect performance to growth, not personality. Assess what changed in you ‚Äî technical, soft, and meta-skills with evidence and trends.</p>
            </div>

            <!-- A. Skill Inventory -->
            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-th-list"></i> A. Skill Inventory</div>
                <div class="sub-section-desc">For each skill: current level, evidence, and trend.</div>
                
                <div style="margin-bottom:12px; padding-bottom:8px; border-bottom: 1px solid var(--border); display:grid; grid-template-columns:170px 1fr 80px 100px; gap:12px; font-size:11px; font-weight:600; color:var(--text-muted); text-transform:uppercase; letter-spacing:0.5px;">
                    <span>Skill</span><span>Evidence</span><span>Level</span><span>Trend</span>
                </div>

                <div id="skillInventory">
                    <!-- Technical -->
                    <div class="skill-inv-row" style="display:grid; grid-template-columns:170px 1fr 80px 100px; gap:12px; align-items:center; padding:10px 0; border-bottom:1px solid var(--border-light);">
                        <div><span style="font-size:10px; text-transform:uppercase; color:var(--primary); font-weight:700; letter-spacing:0.5px;">Technical</span><br><span style="font-size:13px; font-weight:500;">System Design</span></div>
                        <input class="form-input" style="padding:8px 10px; font-size:12.5px;" placeholder="Evidence observed‚Ä¶">
                        <select class="form-select" style="padding:6px; font-size:12px;"><option>1</option><option>2</option><option>3</option><option selected>4</option><option>5</option></select>
                        <select class="trend-select"><option>üìà Improving</option><option selected>‚û°Ô∏è Steady</option><option>üìâ Declining</option></select>
                    </div>
                    <div class="skill-inv-row" style="display:grid; grid-template-columns:170px 1fr 80px 100px; gap:12px; align-items:center; padding:10px 0; border-bottom:1px solid var(--border-light);">
                        <div><span style="font-size:10px; text-transform:uppercase; color:var(--primary); font-weight:700; letter-spacing:0.5px;">Technical</span><br><span style="font-size:13px; font-weight:500;">Code Quality</span></div>
                        <input class="form-input" style="padding:8px 10px; font-size:12.5px;" placeholder="Evidence observed‚Ä¶">
                        <select class="form-select" style="padding:6px; font-size:12px;"><option>1</option><option>2</option><option>3</option><option selected>4</option><option>5</option></select>
                        <select class="trend-select"><option selected>üìà Improving</option><option>‚û°Ô∏è Steady</option><option>üìâ Declining</option></select>
                    </div>
                    <!-- Soft -->
                    <div class="skill-inv-row" style="display:grid; grid-template-columns:170px 1fr 80px 100px; gap:12px; align-items:center; padding:10px 0; border-bottom:1px solid var(--border-light);">
                        <div><span style="font-size:10px; text-transform:uppercase; color:var(--accent-violet); font-weight:700; letter-spacing:0.5px;">Soft Skill</span><br><span style="font-size:13px; font-weight:500;">Communication</span></div>
                        <input class="form-input" style="padding:8px 10px; font-size:12.5px;" placeholder="Evidence observed‚Ä¶">
                        <select class="form-select" style="padding:6px; font-size:12px;"><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option></select>
                        <select class="trend-select"><option selected>üìà Improving</option><option>‚û°Ô∏è Steady</option><option>üìâ Declining</option></select>
                    </div>
                    <div class="skill-inv-row" style="display:grid; grid-template-columns:170px 1fr 80px 100px; gap:12px; align-items:center; padding:10px 0; border-bottom:1px solid var(--border-light);">
                        <div><span style="font-size:10px; text-transform:uppercase; color:var(--accent-violet); font-weight:700; letter-spacing:0.5px;">Soft Skill</span><br><span style="font-size:13px; font-weight:500;">Influence</span></div>
                        <input class="form-input" style="padding:8px 10px; font-size:12.5px;" placeholder="Evidence observed‚Ä¶">
                        <select class="form-select" style="padding:6px; font-size:12px;"><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option></select>
                        <select class="trend-select"><option>üìà Improving</option><option selected>‚û°Ô∏è Steady</option><option>üìâ Declining</option></select>
                    </div>
                    <!-- Meta -->
                    <div class="skill-inv-row" style="display:grid; grid-template-columns:170px 1fr 80px 100px; gap:12px; align-items:center; padding:10px 0; border-bottom:1px solid var(--border-light);">
                        <div><span style="font-size:10px; text-transform:uppercase; color:var(--accent-mint); font-weight:700; letter-spacing:0.5px;">Meta Skill</span><br><span style="font-size:13px; font-weight:500;">Learning Speed</span></div>
                        <input class="form-input" style="padding:8px 10px; font-size:12.5px;" placeholder="Evidence observed‚Ä¶">
                        <select class="form-select" style="padding:6px; font-size:12px;"><option>1</option><option>2</option><option>3</option><option selected>4</option><option>5</option></select>
                        <select class="trend-select"><option selected>üìà Improving</option><option>‚û°Ô∏è Steady</option><option>üìâ Declining</option></select>
                    </div>
                    <div class="skill-inv-row" style="display:grid; grid-template-columns:170px 1fr 80px 100px; gap:12px; align-items:center; padding:10px 0;">
                        <div><span style="font-size:10px; text-transform:uppercase; color:var(--accent-mint); font-weight:700; letter-spacing:0.5px;">Meta Skill</span><br><span style="font-size:13px; font-weight:500;">Resilience</span></div>
                        <input class="form-input" style="padding:8px 10px; font-size:12.5px;" placeholder="Evidence observed‚Ä¶">
                        <select class="form-select" style="padding:6px; font-size:12px;"><option>1</option><option>2</option><option>3</option><option selected>4</option><option>5</option></select>
                        <select class="trend-select"><option>üìà Improving</option><option selected>‚û°Ô∏è Steady</option><option>üìâ Declining</option></select>
                    </div>
                </div>
                <button class="add-row-btn" id="addSkillBtn"><i class="fas fa-plus"></i> Add skill</button>
            </div>

            <!-- B. Strength Leverage -->
            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-bolt"></i> B. Strength Leverage</div>
                <div class="sub-section-desc">Which strengths created disproportionate value? Where could doubling down outperform fixing weaknesses?</div>
                <div class="form-group">
                    <label class="form-label">Key Strengths That Created Outsized Value</label>
                    <textarea class="form-textarea" placeholder="e.g. Deep domain knowledge in payments enabled the team to ship a compliant solution 2 months ahead of competitors"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Double-Down Opportunities</label>
                    <div class="form-hint">Where would investing more in existing strengths yield greater returns than closing gaps?</div>
                    <textarea class="form-textarea" placeholder="e.g. Could lead the API architecture guild ‚Äî their system design skills are already top-tier"></textarea>
                </div>
            </div>

            <!-- C. Development Gaps -->
            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-exclamation-circle"></i> C. Development Gaps</div>
                <div class="sub-section-desc">Skills required for next role or those repeatedly limiting impact.</div>
                <div class="form-group">
                    <label class="form-label">Skills Needed for Next Role / Scope</label>
                    <textarea class="form-textarea" placeholder="e.g. People management, strategic planning, executive communication"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Skills Repeatedly Limiting Impact</label>
                    <textarea class="form-textarea" placeholder="e.g. Difficulty prioritising under ambiguity; written communication lacks clarity for non-technical audiences"></textarea>
                </div>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SECTION 3: FEEDBACK INTEGRATION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="wizard-section" data-step="2">
            <div class="section-intro">
                <h3>3. Feedback Integration</h3>
                <p>Reduce blind spots. Synthesise multi-source feedback into patterns ‚Äî don't just attach it.</p>
            </div>

            <!-- A. Multi-Source Input -->
            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-comments"></i> A. Multi-Source Input</div>
                
                <div class="feedback-tabs" id="feedbackTabs">
                    <div class="feedback-tab active" data-fb="manager">Manager</div>
                    <div class="feedback-tab" data-fb="peer">Peer / Stakeholder</div>
                    <div class="feedback-tab" data-fb="customer">Customer / Cross-Functional</div>
                    <div class="feedback-tab" data-fb="self">Self-Assessment</div>
                </div>

                <div id="feedbackPanels">
                    <div class="fb-panel" data-fb="manager">
                        <div class="form-group">
                            <label class="form-label">Manager Feedback Summary</label>
                            <textarea class="form-textarea" rows="4" placeholder="Synthesise the manager's observations on performance, behaviour, and growth areas‚Ä¶"></textarea>
                        </div>
                        <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
                            <div class="form-group">
                                <label class="form-label">Top Strengths Noted</label>
                                <textarea class="form-textarea" rows="3" placeholder="What did the manager highlight as key strengths?"></textarea>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Areas for Development</label>
                                <textarea class="form-textarea" rows="3" placeholder="What growth areas were identified?"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="fb-panel" data-fb="peer" style="display:none;">
                        <div class="form-group">
                            <label class="form-label">Peer / Stakeholder Feedback Summary</label>
                            <div class="form-hint">Aggregate input from 2-4 peers or stakeholders who worked closely with this person</div>
                            <textarea class="form-textarea" rows="4" placeholder="Themes from peer feedback‚Ä¶"></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Specific Quotes or Examples</label>
                            <textarea class="form-textarea" rows="3" placeholder="Anonymised peer observations with concrete examples‚Ä¶"></textarea>
                        </div>
                    </div>
                    <div class="fb-panel" data-fb="customer" style="display:none;">
                        <div class="form-group">
                            <label class="form-label">Customer / Cross-Functional Feedback</label>
                            <div class="form-hint">Where relevant ‚Äî input from users, clients, or partner teams</div>
                            <textarea class="form-textarea" rows="4" placeholder="Feedback from external or cross-team stakeholders‚Ä¶"></textarea>
                        </div>
                    </div>
                    <div class="fb-panel" data-fb="self" style="display:none;">
                        <div class="form-group">
                            <label class="form-label">Employee Self-Assessment</label>
                            <div class="form-hint">The employee's own perspective on their performance this cycle</div>
                            <textarea class="form-textarea" rows="4" placeholder="Self-assessment summary‚Ä¶"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- B. Pattern Recognition -->
            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-search"></i> B. Pattern Recognition</div>
                <div class="sub-section-desc">Synthesise feedback ‚Äî look for what repeats, surprises, and was previously ignored.</div>
                
                <div class="reflection-card">
                    <div class="q"><i class="fas fa-sync-alt"></i> What feedback themes repeat across sources?</div>
                    <textarea class="form-textarea" placeholder="e.g. Multiple sources mention strong technical ability but difficulty communicating trade-offs to non-technical stakeholders"></textarea>
                </div>
                <div class="reflection-card">
                    <div class="q"><i class="fas fa-surprise"></i> What feedback was surprising or uncomfortable?</div>
                    <textarea class="form-textarea" placeholder="e.g. Two peers noted feeling excluded from architectural decisions that affected their work"></textarea>
                </div>
                <div class="reflection-card">
                    <div class="q"><i class="fas fa-eye-slash"></i> What feedback was ignored previously ‚Äî and why?</div>
                    <textarea class="form-textarea" placeholder="e.g. Communication feedback appeared in last cycle too but was deprioritised in favour of technical goals"></textarea>
                </div>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SECTION 4: FORWARD-LOOKING TARGETS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="wizard-section" data-step="3">
            <div class="section-intro">
                <h3>4. Forward-Looking Target Setting</h3>
                <p>Shift from evaluation to momentum. Define what excellent looks like and set outcome-based goals linked to business priorities.</p>
            </div>

            <!-- A. Role Clarity -->
            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-crosshairs"></i> A. Role Clarity</div>
                <div class="form-group">
                    <label class="form-label">What does "excellent" look like in this role over the next cycle?</label>
                    <textarea class="form-textarea" rows="3" placeholder="Paint a clear picture of what outstanding performance means for this specific role and level‚Ä¶"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">2‚Äì3 Outcomes That Matter Most</label>
                    <div class="form-hint">Not a task list ‚Äî the results that would make this cycle a clear success</div>
                    <textarea class="form-textarea" rows="3" placeholder="e.g. 1) Platform migration complete with zero critical incidents. 2) Two junior engineers promoted to mid-level."></textarea>
                </div>
            </div>

            <!-- B. Outcome-Based Goals -->
            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-flag-checkered"></i> B. Outcome-Based Goals</div>
                <div class="sub-section-desc">Specific, measurable, impact-focused. Linked to business or team priorities.</div>
                
                <div id="goalsContainer">
                    <div class="goal-card">
                        <div class="goal-card-header">
                            <div style="display:flex; align-items:center; gap:10px;">
                                <div class="goal-number">1</div>
                                <span style="font-size:11px; color:var(--text-muted); font-weight:600; text-transform:uppercase; letter-spacing:0.5px;">Goal</span>
                            </div>
                            <button class="goal-remove"><i class="fas fa-times"></i></button>
                        </div>
                        <div class="form-group">
                            <input class="form-input" placeholder="e.g. Reduce onboarding time by 20% by Q3 through process redesign">
                        </div>
                        <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px;">
                            <div class="form-group" style="margin-bottom:0">
                                <label class="form-label">Measure of Success</label>
                                <input class="form-input" placeholder="e.g. < 2 weeks avg">
                            </div>
                            <div class="form-group" style="margin-bottom:0">
                                <label class="form-label">Deadline</label>
                                <input type="date" class="form-input">
                            </div>
                            <div class="form-group" style="margin-bottom:0">
                                <label class="form-label">Business Priority Link</label>
                                <select class="form-select">
                                    <option>Efficiency</option>
                                    <option>Growth</option>
                                    <option>Retention</option>
                                    <option>Innovation</option>
                                    <option>Quality</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="add-row-btn" id="addGoalBtn"><i class="fas fa-plus"></i> Add goal</button>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SECTION 5: SKILL & GROWTH GOALS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="wizard-section" data-step="4">
            <div class="section-intro">
                <h3>5. Skill & Growth Goals</h3>
                <p>Make development intentional, not aspirational. 2‚Äì4 priorities with concrete actions and feedback loops.</p>
            </div>

            <div id="devPrioritiesContainer">
                <!-- Dev Priority 1 -->
                <div class="sub-section dev-priority-card">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:16px;">
                        <div class="sub-section-title"><i class="fas fa-graduation-cap"></i> Development Priority 1</div>
                        <button class="goal-remove" title="Remove"><i class="fas fa-times"></i></button>
                    </div>
                    <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
                        <div class="form-group">
                            <label class="form-label">Skill to Develop</label>
                            <input class="form-input" placeholder="e.g. Executive communication">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Why It Matters Now</label>
                            <input class="form-input" placeholder="e.g. Promotion to Staff requires presenting to VPs">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">What "Good" Looks Like</label>
                        <textarea class="form-textarea" rows="2" placeholder="e.g. Can present a technical strategy to non-technical execs with clear recommendations and trade-offs"></textarea>
                    </div>

                    <div style="background:var(--surface-sunken); border-radius:var(--radius-md); padding:16px; margin-bottom:12px;">
                        <div style="font-size:12px; font-weight:700; color:var(--text-secondary); margin-bottom:10px; text-transform:uppercase; letter-spacing:0.5px;">Concrete Development Actions</div>
                        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                            <div class="form-group" style="margin-bottom:0">
                                <label class="form-label">Stretch Assignment / Project</label>
                                <input class="form-input" placeholder="e.g. Lead Q2 board prep deck">
                            </div>
                            <div class="form-group" style="margin-bottom:0">
                                <label class="form-label">Coaching / Mentoring</label>
                                <input class="form-input" placeholder="e.g. Shadow CTO in monthly reviews">
                            </div>
                            <div class="form-group" style="margin-bottom:0">
                                <label class="form-label">Training</label>
                                <input class="form-input" placeholder="e.g. 'Presenting to Executives' workshop">
                            </div>
                            <div class="form-group" style="margin-bottom:0">
                                <label class="form-label">Rotation / Exposure</label>
                                <input class="form-input" placeholder="e.g. Join Product Review for 1 quarter">
                            </div>
                        </div>
                    </div>

                    <div style="background:var(--surface-sunken); border-radius:var(--radius-md); padding:16px;">
                        <div style="font-size:12px; font-weight:700; color:var(--text-secondary); margin-bottom:10px; text-transform:uppercase; letter-spacing:0.5px;">Practice & Feedback Loop</div>
                        <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px;">
                            <div class="form-group" style="margin-bottom:0">
                                <label class="form-label">Where Practiced?</label>
                                <input class="form-input" placeholder="e.g. Monthly team all-hands">
                            </div>
                            <div class="form-group" style="margin-bottom:0">
                                <label class="form-label">Who Gives Feedback?</label>
                                <input class="form-input" placeholder="e.g. Director of Eng">
                            </div>
                            <div class="form-group" style="margin-bottom:0">
                                <label class="form-label">Review Frequency</label>
                                <select class="form-select">
                                    <option>Weekly</option>
                                    <option>Bi-weekly</option>
                                    <option selected>Monthly</option>
                                    <option>Quarterly</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button class="add-row-btn" id="addDevPriorityBtn"><i class="fas fa-plus"></i> Add development priority (max 4)</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SECTION 6: SUPPORT & ENVIRONMENT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="wizard-section" data-step="5">
            <div class="section-intro">
                <h3>6. Support & Environment</h3>
                <p>Share ownership of performance. Prevent reviews becoming one-sided or performative by naming what's needed to succeed.</p>
            </div>

            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-tools"></i> Tools, Resources & Training</div>
                <div class="form-group">
                    <label class="form-label">What tools, resources, or training are needed?</label>
                    <textarea class="form-textarea" rows="3" placeholder="e.g. Access to Datadog APM license; budget for AWS Solutions Architect cert; upgraded dev machine"></textarea>
                </div>
            </div>

            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-key"></i> Decision Rights & Autonomy</div>
                <div class="form-group">
                    <label class="form-label">Where does this person need more (or clearer) decision authority?</label>
                    <textarea class="form-textarea" rows="3" placeholder="e.g. Empowered to approve tech debt items under 3 story points without manager sign-off"></textarea>
                </div>
            </div>

            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-shield-alt"></i> Manager Support Needed</div>
                <div class="sub-section-desc">Coaching, prioritisation help, air cover, sponsorship.</div>
                <div class="form-group">
                    <label class="form-label">What specific support will the manager provide?</label>
                    <textarea class="form-textarea" rows="3" placeholder="e.g. Weekly 1:1 focused on stakeholder management; sponsor for Staff promotion committee; shield from non-essential meetings"></textarea>
                </div>
            </div>

            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-exclamation-triangle"></i> Workload & Structural Blockers</div>
                <div class="form-group">
                    <label class="form-label">Are there workload, process, or structural issues limiting performance?</label>
                    <textarea class="form-textarea" rows="3" placeholder="e.g. Currently spread across 3 projects ‚Äî need to consolidate to 2 max; on-call rotation too frequent for focused development work"></textarea>
                </div>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SECTION 7: COMMITMENTS & CHECK-INS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="wizard-section" data-step="6">
            <div class="section-intro">
                <h3>7. Clear Commitments & Check-ins</h3>
                <p>Make it stick. Performance improves through frequent course correction, not yearly judgment. End with written commitments and scheduled check-ins.</p>
            </div>

            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-handshake"></i> Written Commitments (3‚Äì5)</div>
                <div class="sub-section-desc">Both the employee and manager commit. Include success indicators.</div>

                <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px; margin-bottom:12px; font-size:11px; font-weight:600; color:var(--text-muted); text-transform:uppercase; letter-spacing:0.5px;">
                    <span>Commitment</span><span>Owner</span><span>Success Indicator</span>
                </div>

                <div id="commitmentsContainer">
                    <div class="commitment-row">
                        <input class="form-input" placeholder="e.g. Complete platform migration by Q2">
                        <select class="form-select">
                            <option>Employee</option>
                            <option>Manager</option>
                            <option>Shared</option>
                        </select>
                        <input class="form-input" placeholder="e.g. Zero downtime cutover">
                    </div>
                    <div class="commitment-row">
                        <input class="form-input" placeholder="e.g. Provide weekly coaching on exec communication">
                        <select class="form-select">
                            <option>Employee</option>
                            <option selected>Manager</option>
                            <option>Shared</option>
                        </select>
                        <input class="form-input" placeholder="e.g. Positive feedback from VP">
                    </div>
                    <div class="commitment-row">
                        <input class="form-input" placeholder="e.g. Present at 2+ company all-hands">
                        <select class="form-select">
                            <option selected>Employee</option>
                            <option>Manager</option>
                            <option>Shared</option>
                        </select>
                        <input class="form-input" placeholder="e.g. Audience rating ‚â• 4/5">
                    </div>
                </div>
                <button class="add-row-btn" id="addCommitmentBtn"><i class="fas fa-plus"></i> Add commitment</button>
            </div>

            <div class="sub-section">
                <div class="sub-section-title"><i class="fas fa-calendar-alt"></i> Check-in Schedule</div>
                <div class="sub-section-desc">Quarterly check-ins beat annual reviews. Select planned review dates.</div>
                
                <div class="checkin-schedule">
                    <div class="checkin-card selected">
                        <div class="month">Apr 2026</div>
                        <div class="label">Q1 Check-in</div>
                        <input type="date" class="form-input" style="margin-top:8px; padding:6px; font-size:11px;" value="2026-04-15">
                    </div>
                    <div class="checkin-card selected">
                        <div class="month">Jul 2026</div>
                        <div class="label">Q2 Check-in</div>
                        <input type="date" class="form-input" style="margin-top:8px; padding:6px; font-size:11px;" value="2026-07-15">
                    </div>
                    <div class="checkin-card selected">
                        <div class="month">Oct 2026</div>
                        <div class="label">Q3 Check-in</div>
                        <input type="date" class="form-input" style="margin-top:8px; padding:6px; font-size:11px;" value="2026-10-15">
                    </div>
                    <div class="checkin-card selected">
                        <div class="month">Jan 2027</div>
                        <div class="label">Annual Review</div>
                        <input type="date" class="form-input" style="margin-top:8px; padding:6px; font-size:11px;" value="2027-01-15">
                    </div>
                </div>
            </div>

            <div class="sub-section" style="background: linear-gradient(135deg, rgba(52,211,153,0.06), rgba(79,109,245,0.04)); border-color: var(--accent-mint);">
                <div class="sub-section-title"><i class="fas fa-comment-dots" style="color:var(--accent-mint)"></i> Final Manager Notes</div>
                <div class="form-group">
                    <label class="form-label">Overall Assessment & Closing Comments</label>
                    <textarea class="form-textarea" rows="4" placeholder="Summarise the review outcome, overall sentiment, and any additional context for the record‚Ä¶"></textarea>
                </div>
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
                    <div class="form-group" style="margin-bottom:0">
                        <label class="form-label">Overall Rating</label>
                        <select class="form-select" style="font-weight:600;">
                            <option>5 ‚Äî Outstanding</option>
                            <option selected>4 ‚Äî Exceeding Expectations</option>
                            <option>3 ‚Äî Meeting Expectations</option>
                            <option>2 ‚Äî Needs Improvement</option>
                            <option>1 ‚Äî Unsatisfactory</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin-bottom:0">
                        <label class="form-label">Promotion Readiness</label>
                        <select class="form-select">
                            <option>Ready now</option>
                            <option selected>Ready in 6‚Äì12 months</option>
                            <option>Not yet ‚Äî 12+ months</option>
                            <option>N/A</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê COMPLETION SCREEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="wizard-section" data-step="7">
            <div class="completion-screen">
                <div class="completion-icon"><i class="fas fa-check"></i></div>
                <h2>Review Submitted</h2>
                <p>The performance review has been saved and will be shared with the employee. Quarterly check-ins have been scheduled.</p>
                <div class="completion-summary">
                    <div class="completion-stat"><div class="val">7</div><div class="lbl">Sections Completed</div></div>
                    <div class="completion-stat"><div class="val">4</div><div class="lbl">Check-ins Scheduled</div></div>
                    <div class="completion-stat"><div class="val" id="completionCommitments">3</div><div class="lbl">Commitments Made</div></div>
                </div>
                <div style="margin-top:32px;">
                    <button class="action-btn primary" id="returnToDashboard"><i class="fas fa-arrow-left"></i> Return to Dashboard</button>
                </div>
            </div>
        </div>

    </div>

    <!-- WIZARD FOOTER -->
    <div class="wizard-footer" id="wizardFooter">
        <div class="wizard-footer-left">
            <span id="autoSaveStatus"><i class="fas fa-circle" style="color:var(--accent-mint); font-size:8px; margin-right:4px;"></i> Auto-saved</span>
        </div>
        <div class="wizard-footer-right">
            <button class="action-btn" id="prevStepBtn" style="display:none;"><i class="fas fa-arrow-left"></i> Previous</button>
            <button class="action-btn primary" id="nextStepBtn">Next: Skills <i class="fas fa-arrow-right"></i></button>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê‚ïê EMPLOYEE DETAIL MODAL ‚ïê‚ïê‚ïê -->
<div id="employeeModal" class="modal">
    <div class="modal-content" style="width:750px;">
        <span class="close-modal">&times;</span>
        <div style="display:flex; gap:32px;">
            <div style="flex:1;">
                <h2 id="empModalName" style="font-family:var(--font-display); letter-spacing:-0.3px;">Alice Wong</h2>
                <p id="empModalRole" style="color:var(--text-muted); margin-bottom:20px; font-size:13px;">Product Designer</p>
                <div style="height:250px; width:100%;">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>
            <div style="flex:1; background:var(--surface-sunken); padding:20px; border-radius:var(--radius-lg);">
                <h4 style="margin-bottom:12px; font-size:13px;">Active Goals</h4>
                <div style="background:var(--surface); padding:10px 12px; border-radius:8px; margin-bottom:8px; display:flex; align-items:center; gap:10px;">
                    <input type="checkbox" checked>
                    <span style="font-size:12.5px;">Ship Q1 Feature</span>
                </div>
                <div style="background:var(--surface); padding:10px 12px; border-radius:8px; margin-bottom:8px; display:flex; align-items:center; gap:10px;">
                    <input type="checkbox">
                    <span style="font-size:12.5px;">Mentor Junior Dev</span>
                </div>
                <h4 style="margin:16px 0 10px; font-size:13px;">Development Plan</h4>
                <div style="display:flex; flex-wrap:wrap; gap:6px;">
                    <span class="badge-gold" style="background:var(--surface); border:1px solid var(--border); font-size:11px;"><i class="fas fa-book"></i> Advanced SQL</span>
                    <span class="badge-gold" style="background:var(--surface); border:1px solid var(--border); font-size:11px;"><i class="fas fa-users"></i> Lead Standup</span>
                </div>
            </div>
        </div>
        <div style="margin-top:20px; text-align:right; display:flex; gap:8px; justify-content:flex-end;">
            <button class="action-btn" onclick="openReviewForEmployee(this)"><i class="fas fa-clipboard-list"></i> Full Review</button>
            <button class="action-btn primary"><i class="fas fa-calendar"></i> Schedule 1:1</button>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê‚ïê TOAST ‚ïê‚ïê‚ïê -->
<div id="toast" class="toast">
    <i class="fas fa-check-circle"></i>
    <span id="toastText">Review submitted successfully!</span>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    
    // ‚îÄ‚îÄ‚îÄ DATA ‚îÄ‚îÄ‚îÄ
    const employees = [
        { id: 1, name: 'Alice Wong', role: 'Product Designer', lastReview: 'Oct 2025', rating: 4.8, avatar: 'AW', stats: [5, 4, 5, 4, 3], goals: 2 },
        { id: 2, name: 'Bob Kim', role: 'Frontend Dev', lastReview: 'Sep 2025', rating: 3.2, avatar: 'BK', stats: [3, 2, 4, 3, 2], goals: 1 },
        { id: 3, name: 'Clara Mendez', role: 'Data Scientist', lastReview: 'Dec 2025', rating: 4.1, avatar: 'CM', stats: [4, 5, 3, 4, 4], goals: 3 },
        { id: 4, name: 'Rajan Joshi', role: 'Backend Lead', lastReview: 'Overdue', rating: 3.8, avatar: 'RJ', stats: [4, 4, 2, 5, 3], goals: 2 },
        { id: 5, name: 'Elena Park', role: 'UX Researcher', lastReview: 'Jan 2026', rating: 4.6, avatar: 'EP', stats: [5, 3, 5, 3, 5], goals: 4 },
    ];

    const stepNames = ['Look-Back', 'Skills', 'Feedback', 'Targets', 'Growth', 'Support', 'Commitments'];
    let currentStep = 0;
    let currentEmployeeId = 1;

    // ‚îÄ‚îÄ‚îÄ TEAM CHART ‚îÄ‚îÄ‚îÄ
    const ctxTeam = document.getElementById('teamRatingChart').getContext('2d');
    new Chart(ctxTeam, {
        type: 'bar',
        data: {
            labels: ['Needs Imp.', 'Meeting', 'Exceeding', 'Outstanding'],
            datasets: [{
                label: 'Employees',
                data: [2, 12, 8, 2],
                backgroundColor: ['#f43f5e', '#fbbf24', '#4f6df5', '#34d399'],
                borderRadius: 6,
                borderSkipped: false,
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
                y: { beginAtZero: true, grid: { color: '#f1f3f8' }, ticks: { font: { family: 'DM Sans', size: 11 } } },
                x: { grid: { display: false }, ticks: { font: { family: 'DM Sans', size: 11 } } }
            }
        }
    });

    // ‚îÄ‚îÄ‚îÄ EMPLOYEE TABLE ‚îÄ‚îÄ‚îÄ
    const tableBody = document.getElementById('employeeTableBody');
    employees.forEach(emp => {
        const tr = document.createElement('tr');
        let statusBadge = emp.rating >= 4.5 ? '<span class="badge-success">Top Performer</span>' 
                        : emp.rating < 3.5 ? '<span class="due-badge overdue">At Risk</span>' 
                        : '<span class="badge-gold" style="background:#f1f3f8; color:#6b7280;">Steady</span>';
        tr.innerHTML = `
            <td style="display:flex; align-items:center; gap:12px;">
                <div class="employee-avatar">${emp.avatar}</div>
                <span style="font-weight:600; font-size:13.5px;">${emp.name}</span>
            </td>
            <td>${emp.role}</td>
            <td>${emp.lastReview}</td>
            <td><i class="fas fa-star" style="color:#fbbf24; margin-right:4px; font-size:12px;"></i> ${emp.rating}</td>
            <td>${statusBadge}</td>
            <td>
                <button class="btn-sm open-review" data-id="${emp.id}">Review</button>
                <button class="btn-sm open-profile" data-id="${emp.id}" style="margin-left:4px;"><i class="fas fa-chart-pie"></i></button>
            </td>
        `;
        tableBody.appendChild(tr);
    });

    // ‚îÄ‚îÄ‚îÄ WIZARD STATE ‚îÄ‚îÄ‚îÄ
    const overlay = document.getElementById('reviewOverlay');
    const pills = document.querySelectorAll('.step-pill');
    const sections = document.querySelectorAll('.wizard-section');
    const prevBtn = document.getElementById('prevStepBtn');
    const nextBtn = document.getElementById('nextStepBtn');
    const footer = document.getElementById('wizardFooter');

    function goToStep(step) {
        currentStep = step;
        sections.forEach(s => s.classList.remove('active'));
        pills.forEach(p => p.classList.remove('active'));
        
        const target = document.querySelector(`.wizard-section[data-step="${step}"]`);
        if (target) target.classList.add('active');
        
        const pill = document.querySelector(`.step-pill[data-step="${step}"]`);
        if (pill) pill.classList.add('active');

        // Mark previous steps completed
        pills.forEach(p => {
            const s = parseInt(p.getAttribute('data-step'));
            if (s < step) { p.classList.add('completed'); p.classList.remove('active'); }
            else if (s > step) { p.classList.remove('completed'); }
        });

        // Nav buttons
        prevBtn.style.display = step === 0 ? 'none' : 'inline-flex';
        
        if (step >= 7) {
            // Completion screen
            footer.style.display = 'none';
        } else {
            footer.style.display = 'flex';
            const nextLabel = step < 6 ? `Next: ${stepNames[step + 1]}` : 'Submit Review';
            const nextIcon = step < 6 ? '<i class="fas fa-arrow-right"></i>' : '<i class="fas fa-check"></i>';
            nextBtn.innerHTML = `${nextLabel} ${nextIcon}`;
        }

        // Scroll to top
        document.getElementById('wizardBody').scrollTop = 0;
    }

    // Step pills click
    pills.forEach(pill => {
        pill.addEventListener('click', () => {
            const step = parseInt(pill.getAttribute('data-step'));
            goToStep(step);
        });
    });

    nextBtn.addEventListener('click', () => {
        if (currentStep < 6) {
            goToStep(currentStep + 1);
        } else {
            // Submit ‚Üí show completion
            const commitCount = document.querySelectorAll('#commitmentsContainer .commitment-row').length;
            document.getElementById('completionCommitments').textContent = commitCount;
            goToStep(7);
        }
    });

    prevBtn.addEventListener('click', () => {
        if (currentStep > 0) goToStep(currentStep - 1);
    });

    // ‚îÄ‚îÄ‚îÄ OPEN WIZARD ‚îÄ‚îÄ‚îÄ
    function openWizard(empId) {
        const emp = employees.find(x => x.id == empId) || employees[0];
        currentEmployeeId = emp.id;
        document.getElementById('wizardEmployeeName').textContent = `Annual Review: ${emp.name}`;
        goToStep(0);
        overlay.classList.add('active');
        footer.style.display = 'flex';
    }

    document.getElementById('globalReviewBtn').addEventListener('click', () => openWizard(1));
    
    document.querySelectorAll('.open-review').forEach(btn => {
        btn.addEventListener('click', (e) => {
            const id = e.target.getAttribute('data-id');
            openWizard(id);
        });
    });

    document.getElementById('closeWizard').addEventListener('click', () => {
        overlay.classList.remove('active');
    });

    document.getElementById('returnToDashboard').addEventListener('click', () => {
        overlay.classList.remove('active');
        showToast('Review submitted successfully!');
    });

    // Save draft
    document.getElementById('saveDraftBtn').addEventListener('click', () => {
        showToast('Draft saved');
    });

    // Submit from header
    document.getElementById('submitFullReview').addEventListener('click', () => {
        const commitCount = document.querySelectorAll('#commitmentsContainer .commitment-row').length;
        document.getElementById('completionCommitments').textContent = commitCount;
        goToStep(7);
    });

    // Expose globally
    window.openReviewForEmployee = function(btn) {
        document.getElementById('employeeModal').classList.remove('active');
        openWizard(currentEmployeeId);
    };

    // ‚îÄ‚îÄ‚îÄ FEEDBACK TABS ‚îÄ‚îÄ‚îÄ
    document.querySelectorAll('.feedback-tab').forEach(tab => {
        tab.addEventListener('click', () => {
            document.querySelectorAll('.feedback-tab').forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            const key = tab.getAttribute('data-fb');
            document.querySelectorAll('.fb-panel').forEach(p => {
                p.style.display = p.getAttribute('data-fb') === key ? 'block' : 'none';
            });
        });
    });

    // ‚îÄ‚îÄ‚îÄ ADD ROWS ‚îÄ‚îÄ‚îÄ
    // Outcomes
    document.querySelector('[data-target="outcomesContainer"]').addEventListener('click', () => {
        const container = document.getElementById('outcomesContainer');
        const row = document.createElement('div');
        row.className = 'outcome-row';
        row.innerHTML = `
            <div class="form-group" style="margin-bottom:0">
                <input class="form-input" placeholder="Key result or deliverable">
            </div>
            <div class="form-group" style="margin-bottom:0">
                <select class="form-select"><option>Exceeded</option><option selected>Met</option><option>Partially Met</option><option>Missed</option></select>
            </div>
            <div class="form-group" style="margin-bottom:0">
                <select class="form-select"><option>High</option><option selected>Medium</option><option>Low</option></select>
            </div>
        `;
        container.appendChild(row);
    });

    // Goals
    let goalCount = 1;
    document.getElementById('addGoalBtn').addEventListener('click', () => {
        goalCount++;
        const container = document.getElementById('goalsContainer');
        const card = document.createElement('div');
        card.className = 'goal-card';
        card.innerHTML = `
            <div class="goal-card-header">
                <div style="display:flex; align-items:center; gap:10px;">
                    <div class="goal-number">${goalCount}</div>
                    <span style="font-size:11px; color:var(--text-muted); font-weight:600; text-transform:uppercase; letter-spacing:0.5px;">Goal</span>
                </div>
                <button class="goal-remove" onclick="this.closest('.goal-card').remove()"><i class="fas fa-times"></i></button>
            </div>
            <div class="form-group">
                <input class="form-input" placeholder="Specific, measurable, impact-focused goal">
            </div>
            <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px;">
                <div class="form-group" style="margin-bottom:0">
                    <label class="form-label">Measure of Success</label>
                    <input class="form-input" placeholder="How will we know?">
                </div>
                <div class="form-group" style="margin-bottom:0">
                    <label class="form-label">Deadline</label>
                    <input type="date" class="form-input">
                </div>
                <div class="form-group" style="margin-bottom:0">
                    <label class="form-label">Business Priority</label>
                    <select class="form-select"><option>Efficiency</option><option>Growth</option><option>Retention</option><option>Innovation</option><option>Quality</option></select>
                </div>
            </div>
        `;
        container.appendChild(card);
    });

    // Development priorities
    let devCount = 1;
    document.getElementById('addDevPriorityBtn').addEventListener('click', () => {
        if (devCount >= 4) { showToast('Maximum 4 development priorities'); return; }
        devCount++;
        const container = document.getElementById('devPrioritiesContainer');
        const card = document.createElement('div');
        card.className = 'sub-section dev-priority-card';
        card.innerHTML = `
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:16px;">
                <div class="sub-section-title"><i class="fas fa-graduation-cap"></i> Development Priority ${devCount}</div>
                <button class="goal-remove" onclick="this.closest('.dev-priority-card').remove()"><i class="fas fa-times"></i></button>
            </div>
            <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
                <div class="form-group"><label class="form-label">Skill to Develop</label><input class="form-input" placeholder="e.g. Data storytelling"></div>
                <div class="form-group"><label class="form-label">Why It Matters Now</label><input class="form-input" placeholder="e.g. Needed for cross-functional influence"></div>
            </div>
            <div class="form-group"><label class="form-label">What "Good" Looks Like</label><textarea class="form-textarea" rows="2" placeholder="Describe the observable target state"></textarea></div>
            <div style="background:var(--surface-sunken); border-radius:var(--radius-md); padding:16px; margin-bottom:12px;">
                <div style="font-size:12px; font-weight:700; color:var(--text-secondary); margin-bottom:10px; text-transform:uppercase; letter-spacing:0.5px;">Concrete Development Actions</div>
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
                    <div class="form-group" style="margin-bottom:0"><label class="form-label">Stretch Assignment</label><input class="form-input" placeholder="Project or assignment"></div>
                    <div class="form-group" style="margin-bottom:0"><label class="form-label">Coaching / Mentoring</label><input class="form-input" placeholder="Who and how"></div>
                    <div class="form-group" style="margin-bottom:0"><label class="form-label">Training</label><input class="form-input" placeholder="Course or workshop"></div>
                    <div class="form-group" style="margin-bottom:0"><label class="form-label">Rotation / Exposure</label><input class="form-input" placeholder="Cross-team opportunity"></div>
                </div>
            </div>
            <div style="background:var(--surface-sunken); border-radius:var(--radius-md); padding:16px;">
                <div style="font-size:12px; font-weight:700; color:var(--text-secondary); margin-bottom:10px; text-transform:uppercase; letter-spacing:0.5px;">Practice & Feedback Loop</div>
                <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px;">
                    <div class="form-group" style="margin-bottom:0"><label class="form-label">Where Practiced?</label><input class="form-input" placeholder="Context"></div>
                    <div class="form-group" style="margin-bottom:0"><label class="form-label">Who Gives Feedback?</label><input class="form-input" placeholder="Person"></div>
                    <div class="form-group" style="margin-bottom:0"><label class="form-label">Review Frequency</label><select class="form-select"><option>Weekly</option><option>Bi-weekly</option><option selected>Monthly</option><option>Quarterly</option></select></div>
                </div>
            </div>
        `;
        container.appendChild(card);
    });

    // Commitments
    document.getElementById('addCommitmentBtn').addEventListener('click', () => {
        const container = document.getElementById('commitmentsContainer');
        const row = document.createElement('div');
        row.className = 'commitment-row';
        row.innerHTML = `
            <input class="form-input" placeholder="Commitment">
            <select class="form-select"><option>Employee</option><option>Manager</option><option>Shared</option></select>
            <input class="form-input" placeholder="Success indicator">
        `;
        container.appendChild(row);
    });

    // Add Skill
    document.getElementById('addSkillBtn').addEventListener('click', () => {
        const container = document.getElementById('skillInventory');
        const row = document.createElement('div');
        row.className = 'skill-inv-row';
        row.style = 'display:grid; grid-template-columns:170px 1fr 80px 100px; gap:12px; align-items:center; padding:10px 0; border-bottom:1px solid var(--border-light);';
        row.innerHTML = `
            <div><input class="form-input" style="padding:6px 8px; font-size:12px;" placeholder="Skill name"></div>
            <input class="form-input" style="padding:8px 10px; font-size:12.5px;" placeholder="Evidence observed‚Ä¶">
            <select class="form-select" style="padding:6px; font-size:12px;"><option>1</option><option>2</option><option selected>3</option><option>4</option><option>5</option></select>
            <select class="trend-select"><option>üìà Improving</option><option selected>‚û°Ô∏è Steady</option><option>üìâ Declining</option></select>
        `;
        container.appendChild(row);
    });

    // ‚îÄ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ
    function showToast(msg) {
        const toast = document.getElementById('toast');
        document.getElementById('toastText').textContent = msg;
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 3000);
    }

    // ‚îÄ‚îÄ‚îÄ EMPLOYEE PROFILE MODAL ‚îÄ‚îÄ‚îÄ
    const employeeModal = document.getElementById('employeeModal');
    let radarChartInstance = null;

    document.querySelectorAll('.close-modal').forEach(btn => {
        btn.addEventListener('click', () => {
            employeeModal.classList.remove('active');
        });
    });

    window.onclick = function(event) {
        if (event.target == employeeModal) employeeModal.classList.remove('active');
    };

    document.querySelectorAll('.open-profile').forEach(btn => {
        btn.addEventListener('click', (e) => {
            const targetBtn = e.target.closest('.open-profile');
            const id = targetBtn.getAttribute('data-id');
            const emp = employees.find(x => x.id == id);
            currentEmployeeId = emp.id;

            document.getElementById('empModalName').textContent = emp.name;
            document.getElementById('empModalRole').textContent = emp.role;
            employeeModal.classList.add('active');

            const ctxRadar = document.getElementById('radarChart').getContext('2d');
            if (radarChartInstance) radarChartInstance.destroy();

            radarChartInstance = new Chart(ctxRadar, {
                type: 'radar',
                data: {
                    labels: ['Tech', 'Comm', 'Leadership', 'Productivity', 'Initiative'],
                    datasets: [{
                        label: 'Current',
                        data: emp.stats,
                        fill: true,
                        backgroundColor: 'rgba(79,109,245,0.15)',
                        borderColor: '#4f6df5',
                        pointBackgroundColor: '#4f6df5',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#4f6df5'
                    }, {
                        label: 'Target',
                        data: [4, 4, 4, 4, 4],
                        fill: true,
                        backgroundColor: 'rgba(148,163,184,0.08)',
                        borderColor: '#cbd5e1',
                        pointRadius: 0,
                        borderDash: [5, 5]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    elements: { line: { borderWidth: 2 } },
                    plugins: { legend: { labels: { font: { family: 'DM Sans', size: 11 } } } },
                    scales: {
                        r: {
                            angleLines: { color: '#e4e7ee' },
                            grid: { color: '#e4e7ee' },
                            pointLabels: { font: { size: 11, family: 'DM Sans' }, color: '#6b7280' },
                            suggestedMin: 0, suggestedMax: 5
                        }
                    }
                }
            });
        });
    });

    // ‚îÄ‚îÄ‚îÄ CHECKIN CARD TOGGLE ‚îÄ‚îÄ‚îÄ
    document.querySelectorAll('.checkin-card').forEach(card => {
        card.addEventListener('click', (e) => {
            if (e.target.tagName === 'INPUT') return;
            card.classList.toggle('selected');
        });
    });

    // ‚îÄ‚îÄ‚îÄ AUTO-SAVE SIMULATION ‚îÄ‚îÄ‚îÄ
    let autoSaveTimer;
    document.getElementById('wizardBody').addEventListener('input', () => {
        const status = document.getElementById('autoSaveStatus');
        status.innerHTML = '<i class="fas fa-spinner fa-spin" style="font-size:10px; margin-right:4px; color:var(--text-muted);"></i> Saving‚Ä¶';
        clearTimeout(autoSaveTimer);
        autoSaveTimer = setTimeout(() => {
            status.innerHTML = '<i class="fas fa-circle" style="color:var(--accent-mint); font-size:8px; margin-right:4px;"></i> Auto-saved';
        }, 1200);
    });

});
</script>
</body>
</html>
